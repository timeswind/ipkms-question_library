webpackJsonp([10],{9:function(e,t){"use strict";t=e.exports=function(e){e=JSON.parse(e);var t=e.map(function(e){var t=e.insert;if("string"!=typeof e.insert){if(!e.insert.formula)return"";t=window.katex.renderToString(e.insert.formula)}return e.attributes&&e.attributes.bold&&(t="<strong>"+t+"</strong>"),e.insert.formula&&(t=window.katex.renderToString(e.insert.formula)),t}).join("");return t}},28:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{spinnerActive:!0,myQcollections:[],loadMore:!1}},props:["show","qid"],methods:{closeModal:function(){this.show=!1},saveOneToCollection:function(e){if(e&&this.qid){var t={qcollection_id:e,question_id:this.qid};this.$http.post("/api/manage-qcollection/qcollection/question",t).then(function(e){this.show=!1,this.$showToast("添加成功")},function(e){this.$showToast("失敗"+e.data)})}else this.$showToast("發生錯誤")},getMyQcollectionLists:function(){0===this.myQcollections.length&&this.$http.get("/api/manage-qcollection/qcollections/mine").then(function(e){this.spinnerActive=!1,e.data.length>0?(this.myQcollections=e.data,e.data.length<12?this.loadMore=!1:this.loadMore=!0):this.loadMore=!1},function(e){this.spinnerActive=!1,this.loadMore=!1,console.log(e)})},nextPage:function(){if(this.myQcollections.length>0){this.loadMore=!1;var e=this.myQcollections[this.myQcollections.length-1]._id;console.log(e);var t="/api/manage-qcollection/mine?page="+e;this.$http.get(t).then(function(e){if(e.data.length>0){for(var t=0;t<e.data.length;t++)this.myQcollections.push(e.data[t]);e.data.length<12?this.loadMore=!1:this.loadMore=!0}else this.loadMore=!1},function(e){this.loadMore=!0,console.log(e)})}}},watch:{show:function(e,t){e===!0&&t===!1&&this.getMyQcollectionLists()}}}},37:function(e,t,n){t=e.exports=n(2)(),t.push([e.id,"@media screen and (max-width:1024px){#select-qcollection{box-sizing:border-box}}@media screen and (min-width:1025px){#select-qcollection{box-sizing:border-box;padding-left:240px}}.modal-mask{position:fixed;z-index:9998;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5)}#select-qcollection .modal-container{width:300px;margin:130px auto 0;padding:0;background-color:#fff;border-radius:2px;box-shadow:0 2px 8px rgba(0,0,0,.33)}.modal-header{padding:20px 0 0 20px;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.modal-header h4{margin:0;color:#2196f3}.modal-body{margin:20px 0;margin-bottom:0;max-height:360px;overflow:scroll}.modal-body::-webkit-scrollbar{-webkit-appearance:none;width:6px}.modal-body::-webkit-scrollbar-thumb{border-radius:0;background-color:#ccc;-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.modal-footer{padding-right:20px;padding-bottom:10px}.list{padding:0;list-style:none;margin:0}.list li{-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:15px 20px;font-size:16px;cursor:pointer;background-image:-webkit-linear-gradient(top,#9e9e9e,#9e9e9e 51%,transparent 0);background-image:linear-gradient(180deg,#9e9e9e 0,#9e9e9e 51%,transparent 0);background-size:100% 1px;background-repeat:no-repeat}.list li:active{background-color:#eee}.list .subject-label{color:#e91e63;border:1px solid #e91e63;padding:2px 4px;font-size:13px;margin-right:8px}","",{version:3,sources:["/./src/components/reuseable/Select-qcollection.vue"],names:[],mappings:"AAEA,qCACE,oBACE,qBAAuB,CACxB,CACF,AAED,qCACE,oBACE,sBAAuB,AACvB,kBAAmB,CACpB,CACF,AAED,YACE,eAAgB,AAChB,aAAc,AACd,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,YAAa,AACb,+BAAoC,CACrC,AAED,qCACE,YAAa,AACb,oBAAqB,AACrB,UAAW,AACX,sBAAuB,AACvB,kBAAmB,AACnB,oCAAyC,CAC1C,AAED,cACE,sBAAyB,AACzB,yBAA0B,AACtB,sBAAuB,AACnB,kBAAmB,CAC5B,AAED,iBACE,SAAU,AACV,aAAe,CAChB,AAED,YACE,cAAe,AACf,gBAAiB,AACjB,iBAAkB,AAClB,eAAiB,CAClB,AAED,+BACE,wBAAyB,AACzB,SAAW,CACZ,AACD,qCACE,gBAAmB,AACnB,sBAAuB,AACvB,6CAAiD,CAClD,AAED,cACE,mBAAoB,AACpB,mBAAoB,CACrB,AAED,MACE,UAAa,AACb,gBAAiB,AACjB,QAAQ,CACT,AACD,SACE,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,kBAAmB,AACnB,eAAgB,AAChB,eAAgB,AAChB,gFAAyF,AACzF,6EAAuF,AACvF,yBAA0B,AAC1B,2BAA6B,CAC9B,AAED,gBACE,qBAAsB,CACvB,AAED,qBACE,cAAe,AACf,yBAA0B,AAC1B,gBAAiB,AACjB,eAAgB,AAChB,gBAAiB,CAClB",file:"Select-qcollection.vue",sourcesContent:["\n\n@media screen and (max-width: 1024px) {\n  #select-qcollection {\n    box-sizing: border-box;\n  }\n}\n\n@media screen and (min-width: 1025px) {\n  #select-qcollection {\n    box-sizing: border-box;\n    padding-left: 240px\n  }\n}\n\n.modal-mask {\n  position: fixed;\n  z-index: 9998;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, .5);\n}\n\n#select-qcollection .modal-container {\n  width: 300px;\n  margin: 130px auto 0;\n  padding: 0;\n  background-color: #fff;\n  border-radius: 2px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, .33);\n}\n\n.modal-header {\n  padding: 20px 0px 0 20px;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center\n}\n\n.modal-header h4 {\n  margin: 0;\n  color: #2196F3;\n}\n\n.modal-body {\n  margin: 20px 0;\n  margin-bottom: 0;\n  max-height: 360px;\n  overflow: scroll;\n}\n\n.modal-body::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n.modal-body::-webkit-scrollbar-thumb {\n  border-radius: 0px;\n  background-color: #ccc;\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5);\n}\n\n.modal-footer{\n  padding-right: 20px;\n  padding-bottom: 10px\n}\n\n.list {\n  padding: 0px;\n  list-style: none;\n  margin:0\n}\n.list li {\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding: 15px 20px;\n  font-size: 16px;\n  cursor: pointer;\n  background-image: -webkit-linear-gradient(top, #9E9E9E 0%, #9E9E9E 51%, transparent 51%);\n  background-image: linear-gradient(to bottom, #9E9E9E 0%, #9E9E9E 51%, transparent 51%);\n  background-size: 100% 1px;\n  background-repeat: no-repeat;\n}\n\n.list li:active {\n  background-color: #eee\n}\n\n.list .subject-label {\n  color: #E91E63;\n  border: 1px solid #E91E63;\n  padding: 2px 4px;\n  font-size: 13px;\n  margin-right: 8px\n}\n\n"],sourceRoot:"webpack://"}])},42:function(e,t,n){var i=n(37);"string"==typeof i&&(i=[[e.id,i,""]]);n(3)(i,{});i.locals&&(e.exports=i.locals)},50:function(e,t){e.exports=' <div id=select-qcollection class=modal-mask v-show=show transition=modal> <div class=modal-container> <div class="modal-header flex-row"> <h4>加入題集</h4> <span class=flex style="flex: 1"></span> <mdl-button class=close @click=closeModal()> <i class=material-icons>close</i> </mdl-button> </div> <p style="text-align:center;margin:16px 0"> <mdl-spinner :active=spinnerActive v-show=spinnerActive></mdl-spinner> </p> <div class=modal-body> <ul class=list> <li class=flex-row v-for="qc in myQcollections" track-by=_id @click=saveOneToCollection(qc._id)> <span class=subject-label>{{qc.subject | subject}}</span> <span>{{qc.name}}</span> </li> </ul> <div class="flex-column flex-center" style="margin:16px 0"> <mdl-button raised primary @click=nextPage() :disabled=!loadMore>加載更多</mdl-button> </div> </div> </div> </div> '},52:function(e,t,n){var i,o,s={};n(42),i=n(28),o=n(50),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var a="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(e){var t=s[e];a.computed[e]=function(){return t}})},361:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(52),s=i(o),a=n(9),l=i(a);t["default"]={components:{qcollectionSelectorModal:s["default"]},methods:{renderDelta:function(e){return(0,l["default"])(e)},query:function(){""!==this.search.input&&this.appendTag(),0===this.search.tags.length&&(this.search.options.matchAny=!0),this.results.info="",this.search.buttonDisable=!0;var e={tags:this.search.tags,difficulty:{min:this.search.minDifficulty,max:this.search.maxDifficulty},options:{matchAny:this.search.options.matchAny}};this.$http.post("/api/manage-question/query",e).then(function(e){console.log(e.data),this.results.questions=e.data,e.data.length>0?this.renderQuestions():this.results.info="未找到符合條件的題目",this.search.buttonDisable=!1},function(e){console.log(e.data),this.search.buttonDisable=!1})},appendTag:function(e){""!==this.search.input.trim()&&(this.search.tags.push(this.search.input),this.search.input="")},removeTag:function(e){this.search.tags.splice(e,1)},renderQuestions:function(){var e=this.results.questions.length;setTimeout(function(){for(var t=0;t<e;t++)window.renderMathInElement(document.getElementsByClassName("q-context")[t],{delimiters:[{left:"$$",right:"$$",display:!1}]})},0)},getNumberArray:function(e){return new Array(e)},selectDifficulty:function(e,t){t+=1,"min"===e?t>this.search.maxDifficulty?(this.search.minDifficulty=t,this.search.maxDifficulty=t):this.search.minDifficulty=t:t<this.search.minDifficulty?(this.search.minDifficulty=t,this.search.maxDifficulty=t):this.search.maxDifficulty=t},showCollectionModal:function(e){this.$broadcast("getMyQcollectionLists"),this.CollectionModal.show=!0,this.CollectionModal.qid=e}},data:function(){return{search:{buttonDisable:!1,input:"",tags:[],minDifficulty:1,maxDifficulty:5,options:{matchAny:!1}},CollectionModal:{show:!1,qid:""},results:{questions:[],info:""}}}}},406:function(e,t,n){t=e.exports=n(2)(),t.push([e.id,".search-zone[_v-66946f75]{background:#fff;box-shadow:0 1px 4px 0 rgba(0,0,0,.14);border-radius:3px;padding:20px 0;text-align:center;margin:0 16px}.difficulty-heighlight[_v-66946f75]{color:#ffc107!important}.select-difficulty-box[_v-66946f75]{color:#aaa;margin-bottom:16px}.select-difficulty-box i[_v-66946f75]{width:24px;cursor:pointer}.q-tag[_v-66946f75]{cursor:pointer}.results-board[_v-66946f75]{background:#fff;box-shadow:0 1px 4px 0 rgba(0,0,0,.14);border-radius:3px;padding:16px 0;text-align:center;margin:16px 16px 0;color:#ff9800;font-size:16px;border-left:4px solid}","",{version:3,sources:["/./src/views/questions/Search-question.vue"],names:[],mappings:"AACA,0BACE,gBAAiB,AACjB,uCAAyC,AACzC,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,aAAe,CAChB,AAED,oCACE,uBAAyB,CAC1B,AACD,oCACE,WAAY,AACZ,kBAAmB,CACpB,AACD,sCACE,WAAY,AACZ,cAAgB,CACjB,AACD,oBACE,cAAgB,CACjB,AACD,4BACE,gBAAiB,AACjB,uCAAyC,AACzC,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,mBAAyB,AACzB,cAAe,AACf,eAAgB,AAChB,qBAAsB,CACvB",file:"Search-question.vue",sourcesContent:["\n.search-zone[_v-66946f75] {\n  background: #fff;\n  box-shadow: 0 1px 4px 0 rgba(0,0,0,0.14);\n  border-radius: 3px;\n  padding: 20px 0;\n  text-align: center;\n  margin: 0 16px;\n}\n\n.difficulty-heighlight[_v-66946f75]{\n  color: #FFC107 !important\n}\n.select-difficulty-box[_v-66946f75] {\n  color: #aaa;\n  margin-bottom: 16px\n}\n.select-difficulty-box i[_v-66946f75] {\n  width: 24px;\n  cursor: pointer;\n}\n.q-tag[_v-66946f75] {\n  cursor: pointer;\n}\n.results-board[_v-66946f75] {\n  background: #fff;\n  box-shadow: 0 1px 4px 0 rgba(0,0,0,0.14);\n  border-radius: 3px;\n  padding: 16px 0;\n  text-align: center;\n  margin: 16px 16px 0 16px;\n  color: #FF9800;\n  font-size: 16px;\n  border-left: 4px solid\n}\n"],sourceRoot:"webpack://"}])},437:function(e,t,n){var i=n(406);"string"==typeof i&&(i=[[e.id,i,""]]);n(3)(i,{});i.locals&&(e.exports=i.locals)},513:function(e,t){e.exports=' <div id=search-question _v-66946f75=""> <qcollection-selector-modal :show.sync=CollectionModal.show :qid=CollectionModal.qid _v-66946f75=""></qcollection-selector-modal> <div class=search-zone _v-66946f75=""> <div v-show="search.tags.length !== 0" style="padding-top: 25px;margin-right: 10px" _v-66946f75=""> <span class=q-tag @click=removeTag($index) v-for="tag in search.tags" track-by=$index style="padding:4px 8px" _v-66946f75="">{{tag}}</span> </div> <mdl-textfield label=標籤.輸入回車 :value.sync=search.input @keyup.enter=appendTag() _v-66946f75=""></mdl-textfield> <span class="flex-column flex-center select-difficulty-box" _v-66946f75=""> <span class="flex-row flex-center" _v-66946f75=""> <span style=margin-right:8px _v-66946f75="">最低難度</span> <i v-for="n in 5" class=material-icons @click="selectDifficulty(\'min\', $index)" :class="{\'difficulty-heighlight\': search.minDifficulty > $index}" _v-66946f75="">star_rate</i> </span> <span class="flex-row flex-center" _v-66946f75=""> <span style=margin-right:8px _v-66946f75="">最高難度</span> <i v-for="n in 5" class=material-icons @click="selectDifficulty(\'max\', $index)" :class="{\'difficulty-heighlight\': search.maxDifficulty > $index}" _v-66946f75="">star_rate</i> </span> </span> <mdl-switch v-show="search.tags.length !== 0" :checked.sync=search.options.matchAny style="width: 130px;margin-bottom: 16px" _v-66946f75="">任意條件符合</mdl-switch> <div _v-66946f75=""> <mdl-button primary="" raised="" @click=query() :disabled=search.buttonDisable _v-66946f75="">搜索</mdl-button> </div> </div> <div class=results-zone _v-66946f75=""> <div class=results-board v-if=results.info _v-66946f75=""> {{results.info}} </div> <div class=mdl-grid id=questions-preview-container _v-66946f75=""> <div class="mdl-cell mdl-cell--4-col question-card" v-for="q in results.questions" track-by=_id _v-66946f75=""> <div class=question-wrapper v-link="{ name: \'question-detail\', params: { question_id: q._id }}" _v-66946f75=""> <span class=q-subject _v-66946f75="">{{q.subject | subject}}</span> <span class=q-type _v-66946f75="">{{q.type}}</span> <div class=q-difficulty _v-66946f75=""> <i class=material-icons v-for="i in getNumberArray(q.difficulty)" track-by=$index _v-66946f75="">star_rate</i> </div> <div v-if=q.delta _v-66946f75=""> <p class=q-context v-html=renderDelta(q.delta) _v-66946f75=""></p> </div> <div v-if=q.context _v-66946f75=""> <p class=q-context v-html=q.context _v-66946f75=""></p> </div> <span class=q-tag v-for="tag in q.tags" _v-66946f75="">{{tag}}</span> </div> <div class=question-tools _v-66946f75=""> <mdl-button v-on:click=showCollectionModal(q._id) _v-66946f75=""><i class=material-icons _v-66946f75="">add</i>加入題集</mdl-button> </div> </div> </div> </div> </div> '},537:function(e,t,n){var i,o,s={};n(437),i=n(361),o=n(513),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var a="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(e){var t=s[e];a.computed[e]=function(){return t}})}});
//# sourceMappingURL=10.55143ed852ea7df7face.js.map