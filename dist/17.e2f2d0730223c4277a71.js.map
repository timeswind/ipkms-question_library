{"version":3,"sources":["webpack:///17.e2f2d0730223c4277a71.js","webpack:///Login.vue","webpack:///./src/views/Login.vue?f6f4","webpack:///./src/views/Login.vue?500c","webpack:///./src/views/Login.vue?6577","webpack:///./src/views/Login.vue"],"names":["webpackJsonp","344","module","exports","Object","defineProperty","value","data","login","email","password","warn","methods","auth","re","test","this","$http","post","then","response","console","log","status","token","window","sessionStorage","$router","go","name","403","__webpack_require__","push","id","version","sources","names","mappings","file","sourcesContent","sourceRoot","434","content","locals","509","518","__vue_script__","__vue_template__","__esModule","options","template"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAASC,EAAQC,GAEtB,YAEAC,QAAOC,eAAeF,EAAS,cAC7BG,OAAO,IAETH,cACEI,KAAM,WACJ,OACEC,OACEC,MCmBT,GDlBSC,SCmBT,GDlBSC,KCqBT,MDhBGC,SACEC,KAAM,WACJ,GAAIC,GCkBX,wHDjBO,IAAIA,EAAGC,KAAKC,KAAKR,MAAMC,OCkB9B,CDjBS,GAAIF,IACFE,MAAOO,KAAKR,MCkBvBC,MDjBWC,SAAUM,KAAKR,MCmB1BE,SDjBSM,MAAKC,MAAMC,KAAK,aAAcX,GAAMY,KAAK,SAAUC,GACjDC,QAAQC,ICkBnBF,GDjBmC,MAApBA,EAASG,QAAkBH,EAASb,MAAQa,EAASb,KAAKiB,QAC5DC,OAAOC,eAAeF,MAAQJ,EAASb,KCkBpDiB,MDjBaR,KAAKR,MAAMC,MCkBxB,GDjBaO,KAAKR,MAAME,SCkBxB,GDjBaM,KAAKR,MAAMG,KCkBxB,GDjBaK,KAAKW,QAAQC,IAAKC,KCkB/B,YDhBY,SAAUT,GACa,MAApBA,EAASG,QAAoC,SAAlBH,EAASb,OACtCS,KAAKR,MAAME,SCkBxB,GDjBaM,KAAKR,MAAMG,KCkBxB,cDdSK,MAAKR,MAAMG,KCkBpB,iBDVMmB,IACA,SAAS5B,EAAQC,EAAS4B,GEtDhC5B,EAAAD,EAAAC,QAAA4B,EAAA,KAKA5B,EAAA6B,MAAA9B,EAAA+B,GAAA,yJAAgL,IAAQC,QAAA,EAAAC,SAAA,0BAAAC,SAAAC,SAAA,wFAAAC,KAAA,YAAAC,gBAAA,sMAAqYC,WAAA,iBF+DvjBC,IACA,SAASvC,EAAQC,EAAS4B,GGlEhC,GAAAW,GAAAX,EAAA,IACA,iBAAAW,SAAAxC,EAAA+B,GAAAS,EAAA,KAEAX,GAAA,GAAAW,KACAA,GAAAC,SAAAzC,EAAAC,QAAAuC,EAAAC,SHwFMC,IACA,SAAS1C,EAAQC,GIhGvBD,EAAAC,QAAA,kqBJsGM0C,IACA,SAAS3C,EAAQC,EAAS4B,GKvGhC,GAAAe,GAAAC,CACAhB,GAAA,KACAe,EAAAf,EAAA,KACAgB,EAAAhB,EAAA,KACA7B,EAAAC,QAAA2C,MACA5C,EAAAC,QAAA6C,aAAA9C,EAAAC,QAAAD,EAAAC,QAAAD,YACA6C,KACA,kBAAA7C,GAAAC,QAAAD,EAAAC,QAAA8C,UAAA/C,EAAAC,QAAA8C,YAA+F/C,EAAAC,SAAA+C,SAAAH","file":"17.e2f2d0730223c4277a71.js","sourcesContent":["webpackJsonp([17],{\n\n/***/ 344:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      login: {\n\t        email: '',\n\t        password: '',\n\t        warn: ''\n\t      }\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    auth: function auth() {\n\t      var re = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n\t      if (re.test(this.login.email)) {\n\t        var data = {\n\t          email: this.login.email,\n\t          password: this.login.password\n\t        };\n\t        this.$http.post('/api/login', data).then(function (response) {\n\t          console.log(response);\n\t          if (response.status === 200 && response.data && response.data.token) {\n\t            window.sessionStorage.token = response.data.token;\n\t            this.login.email = '';\n\t            this.login.password = '';\n\t            this.login.warn = '';\n\t            this.$router.go({ name: 'entry' });\n\t          }\n\t        }, function (response) {\n\t          if (response.status === 401 && response.data === 'fail') {\n\t            this.login.password = '';\n\t            this.login.warn = '登入失败';\n\t          }\n\t        });\n\t      } else {\n\t        this.login.warn = '請輸入正確的郵箱地址';\n\t      }\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 403:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(2)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".login-modal-card[_v-68650f35]{background:#fff;max-width:300px;margin:80px auto 0;box-shadow:0 1px 6px rgba(0,0,0,.35);padding:16px;border-radius:3px}\", \"\", {\"version\":3,\"sources\":[\"/./src/views/Login.vue\"],\"names\":[],\"mappings\":\"AACA,+BACE,gBAAiB,AACjB,gBAAiB,AACjB,mBAAyB,AACzB,qCAAuC,AACvC,aAAc,AACd,iBAAmB,CACpB\",\"file\":\"Login.vue\",\"sourcesContent\":[\"\\n.login-modal-card[_v-68650f35] {\\n  background: #fff;\\n  max-width: 300px;\\n  margin: 80px auto 0 auto;\\n  box-shadow: 0 1px 6px rgba(0,0,0,0.35);\\n  padding: 16px;\\n  border-radius: 3px;\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 434:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(403);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(3)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-68650f35&scoped=true!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Login.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-68650f35&scoped=true!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Login.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 509:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div id=login _v-68650f35=\\\"\\\"> <div class=main-wrapper _v-68650f35=\\\"\\\"> <div class=flex-column _v-68650f35=\\\"\\\"> <div class=\\\"login-modal-card flex-column\\\" _v-68650f35=\\\"\\\"> <h4 class=display-1 style=margin-top:0 _v-68650f35=\\\"\\\">登入</h4> <mdl-textfield floating-label=郵箱 :value.sync=login.email type=email _v-68650f35=\\\"\\\"></mdl-textfield> <mdl-textfield floating-label=密碼 :value.sync=login.password type=password @keyup.enter=login() _v-68650f35=\\\"\\\"></mdl-textfield> <span style=\\\"color: #F44336;text-align: center\\\" _v-68650f35=\\\"\\\">{{login.warn}}</span> <mdl-button raised=\\\"\\\" primary=\\\"\\\" @click=auth() style=margin-top:16px _v-68650f35=\\\"\\\">登入</mdl-button> </div> </div> </div> </div> \";\n\n/***/ },\n\n/***/ 518:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(434)\n\t__vue_script__ = __webpack_require__(344)\n\t__vue_template__ = __webpack_require__(509)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 17.e2f2d0730223c4277a71.js\n **/","<style scoped>\n.login-modal-card {\n  background: #fff;\n  max-width: 300px;\n  margin: 80px auto 0 auto;\n  box-shadow: 0 1px 6px rgba(0,0,0,0.35);\n  padding: 16px;\n  border-radius: 3px;\n}\n</style>\n<template>\n  <div id=\"login\">\n    <div class=\"main-wrapper\">\n      <div class=\"flex-column\">\n\n        <div class=\"login-modal-card flex-column\">\n          <h4 class=\"display-1\" style=\"margin-top:0\">登入</h4>\n          <mdl-textfield floating-label=\"郵箱\" :value.sync=\"login.email\" type=\"email\"></mdl-textfield>\n          <mdl-textfield floating-label=\"密碼\" :value.sync=\"login.password\" type=\"password\" @keyup.enter=\"login()\"></mdl-textfield>\n          <span style=\"color: #F44336;text-align: center;\">{{login.warn}}</span>\n          <mdl-button raised primary @click=\"auth()\" style=\"margin-top:16px\">登入</mdl-button>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  data () {\n    return {\n      login: {\n        email: '',\n        password: '',\n        warn: ''\n      }\n    }\n  },\n  methods: {\n    auth: function () {\n      var re = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\n      if (re.test(this.login.email)) {\n        let data = {\n          email: this.login.email,\n          password: this.login.password\n        }\n        this.$http.post('/api/login', data).then(function (response) {\n          console.log(response)\n          if (response.status === 200 && response.data && response.data.token) {\n            window.sessionStorage.token = response.data.token\n            this.login.email = ''\n            this.login.password = ''\n            this.login.warn = ''\n            this.$router.go({name: 'entry'})\n          }\n        }, function (response) {\n          if (response.status === 401 && response.data === 'fail') {\n            this.login.password = ''\n            this.login.warn = '登入失败'\n          }\n        })\n      } else {\n        this.login.warn = '請輸入正確的郵箱地址'\n      }\n    }\n  }\n}\n</script>\n\n\n\n/** WEBPACK FOOTER **\n ** Login.vue?3a0144c9\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".login-modal-card[_v-68650f35]{background:#fff;max-width:300px;margin:80px auto 0;box-shadow:0 1px 6px rgba(0,0,0,.35);padding:16px;border-radius:3px}\", \"\", {\"version\":3,\"sources\":[\"/./src/views/Login.vue\"],\"names\":[],\"mappings\":\"AACA,+BACE,gBAAiB,AACjB,gBAAiB,AACjB,mBAAyB,AACzB,qCAAuC,AACvC,aAAc,AACd,iBAAmB,CACpB\",\"file\":\"Login.vue\",\"sourcesContent\":[\"\\n.login-modal-card[_v-68650f35] {\\n  background: #fff;\\n  max-width: 300px;\\n  margin: 80px auto 0 auto;\\n  box-shadow: 0 1px 6px rgba(0,0,0,0.35);\\n  padding: 16px;\\n  border-radius: 3px;\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=_v-68650f35&scoped=true!./~/vue-loader/lib/selector.js?type=style&index=0!./src/views/Login.vue\n ** module id = 403\n ** module chunks = 17\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-68650f35&scoped=true!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Login.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-68650f35&scoped=true!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Login.vue\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-68650f35&scoped=true!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Login.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"extract\":true,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=_v-68650f35&scoped=true!./~/vue-loader/lib/selector.js?type=style&index=0!./src/views/Login.vue\n ** module id = 434\n ** module chunks = 17\n **/","module.exports = \" <div id=login _v-68650f35=\\\"\\\"> <div class=main-wrapper _v-68650f35=\\\"\\\"> <div class=flex-column _v-68650f35=\\\"\\\"> <div class=\\\"login-modal-card flex-column\\\" _v-68650f35=\\\"\\\"> <h4 class=display-1 style=margin-top:0 _v-68650f35=\\\"\\\">登入</h4> <mdl-textfield floating-label=郵箱 :value.sync=login.email type=email _v-68650f35=\\\"\\\"></mdl-textfield> <mdl-textfield floating-label=密碼 :value.sync=login.password type=password @keyup.enter=login() _v-68650f35=\\\"\\\"></mdl-textfield> <span style=\\\"color: #F44336;text-align: center\\\" _v-68650f35=\\\"\\\">{{login.warn}}</span> <mdl-button raised=\\\"\\\" primary=\\\"\\\" @click=auth() style=margin-top:16px _v-68650f35=\\\"\\\">登入</mdl-button> </div> </div> </div> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-68650f35!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/Login.vue\n ** module id = 509\n ** module chunks = 17\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-68650f35&scoped=true!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Login.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./Login.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-68650f35!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./Login.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/views/Login.vue\n ** module id = 518\n ** module chunks = 17\n **/"],"sourceRoot":""}